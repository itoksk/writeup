# 動画3：プロンプト設計 - プロンプト設計完全ガイド

## プロンプトエンジニアリングとは

プロンプトエンジニアリングは、AIから望ましい出力を得るための指示文を設計する技術です。保育日誌においては、質の高い記録を効率的に生成するための重要なスキルです。

## プロンプトの基本構成要素

### 1. 役割設定（Role）
AIに「誰として」振る舞ってほしいかを明確にします。

```
❌ 悪い例：
日誌を書いて

✅ 良い例：
あなたは経験豊富な保育士として日誌を書いてください
```

### 2. 文脈提供（Context）
背景情報や状況を説明します。

```
✅ 例：
3歳児クラス、20名の園児、梅雨の時期の室内活動
```

### 3. 指示内容（Instruction）
具体的に何をしてほしいかを明確に伝えます。

```
✅ 例：
以下の活動内容から、保護者向けの日誌を作成してください
```

### 4. 入力形式（Input）
どのような情報を提供するかを示します。

```
✅ 例：
入力：[活動名]、[子どもの様子]、[特記事項]
```

### 5. 出力形式（Output）
期待する出力の形式を指定します。

```
✅ 例：
【今日の活動】
【子どもの様子】
【明日への連携】
の3部構成で記述
```

### 6. 制約条件（Constraints）
文字数、文体、禁止事項などを設定します。

```
✅ 例：
- 200字以内
- です・ます調
- 個人名はイニシャル表記
```

## プロンプト設計の実践テクニック

### テクニック1：Few-Shot Learning
例を示して学習させる方法です。

```
以下の例を参考に日誌を作成してください：

例1）
入力：外遊び、元気いっぱい
出力：今日は晴天の下、園庭で外遊びを楽しみました。子どもたちは元気いっぱいに走り回り、笑顔が絶えませんでした。

例2）
入力：製作活動、集中
出力：七夕飾りの製作に取り組みました。はさみやのりを使う細かい作業でしたが、みんな集中して素敵な作品を完成させました。

では、以下の入力から日誌を作成してください：
入力：[実際の活動内容]
```

### テクニック2：Chain of Thought（思考の連鎖）
段階的に考えさせる方法です。

```
保育日誌を作成する際は、以下の手順で考えてください：

1. まず、活動の教育的目的を考える
2. 次に、子どもたちの反応や成長を観察
3. 最後に、保護者に伝えたいポイントを整理
4. これらを踏まえて、温かい文章で日誌を作成
```

### テクニック3：Negative Prompting
してほしくないことを明示する方法です。

```
以下の点に注意してください：
- 専門用語を使いすぎない
- ネガティブな表現は避ける
- 個人を特定できる情報は含めない
- 画一的な表現を繰り返さない
```

## 高度なプロンプト設計

### 条件分岐を含むプロンプト
```
もし雨天の活動なら、室内での工夫を強調してください。
もし初めての体験なら、子どもの驚きや発見を詳しく描写してください。
もし行事の練習なら、成長過程と本番への期待を含めてください。
```

### 変数を使用したテンプレート
```
{{日付}}の{{クラス名}}の日誌

天気：{{天気}}
活動：{{活動内容}}

{{観察記録}}を踏まえて、
{{文字数}}字程度で、
{{対象読者}}向けに日誌を作成してください。
```

### マルチステップ処理
```
Step 1: 提供された情報を整理してください
Step 2: 重要なポイントを3つ選んでください
Step 3: それぞれのポイントを1段落で展開してください
Step 4: 全体を見直し、流れを整えてください
```

## プロンプトの最適化プロセス

### 1. ベースライン作成
最初のプロンプトを作成し、出力を確認

### 2. A/Bテスト
異なるプロンプトを比較検証

| バージョン | プロンプト | 結果評価 |
|------------|------------|----------|
| A | シンプルな指示 | 60点 |
| B | 詳細な指示 | 85点 |
| C | 例示付き | 90点 |

### 3. 反復改善
フィードバックを基に継続的に改善

```
改善サイクル：
1. プロンプト実行
2. 出力評価
3. 問題点特定
4. プロンプト修正
5. 再実行
```

### 4. バージョン管理
効果的なプロンプトを保存・管理

```
v1.0: 基本プロンプト
v1.1: 文体指定を追加
v1.2: 構成要素を明確化
v2.0: Few-shot例を追加
```

## トラブルシューティング

### 問題1：出力が一般的すぎる
**解決策：** 具体的な詳細や個別性を要求
```
追加：「その日特有のエピソードを必ず含めてください」
```

### 問題2：文章が硬い
**解決策：** 感情表現や口語的要素を追加
```
追加：「子どもの言葉をそのまま引用し、場面が目に浮かぶような描写を」
```

### 問題3：長すぎる/短すぎる
**解決策：** 明確な文字数制限を設定
```
追加：「必ず150-200字の範囲で」
```

### 問題4：形式が崩れる
**解決策：** 構造を厳密に定義
```
追加：「以下の見出しを必ず使用し、順序を守ってください」
```

## プロンプトライブラリの構築

### カテゴリ別整理
```
📁 プロンプトライブラリ
├── 📁 日常活動
│   ├── 外遊び.txt
│   ├── 製作活動.txt
│   └── 給食.txt
├── 📁 行事
│   ├── 運動会.txt
│   ├── 発表会.txt
│   └── 遠足.txt
├── 📁 個別記録
│   ├── 成長記録.txt
│   └── 観察記録.txt
└── 📁 特別対応
    ├── 配慮児.txt
    └── 新入園児.txt
```

### メタデータ管理
```yaml
プロンプト名: 保護者向け日誌_v2.1
作成日: 2024-01-15
作成者: 山田太郎
用途: 日常の保護者連絡
効果: 満足度95%
更新履歴:
  - v2.1: 季節感を追加
  - v2.0: 構成を3部構成に
  - v1.0: 初版
```

## 評価とフィードバック

### 評価基準の設定
- **正確性：** 事実と一致しているか
- **適切性：** 保育の専門性が反映されているか
- **読みやすさ：** 保護者に伝わりやすいか
- **個別性：** その日特有の内容か
- **温かさ：** 愛情が感じられるか

### フィードバック収集方法
1. 保育士からの評価
2. 保護者アンケート
3. 管理者レビュー
4. 定期的な振り返り会

## セキュリティとコンプライアンス

### 個人情報保護
```
必須ルール：
- 実名は使用しない
- 住所・電話番号は記載しない
- 写真の特定情報は含めない
- 医療情報は慎重に扱う
```

### 著作権配慮
```
注意事項：
- 歌詞の全文引用は避ける
- 絵本のストーリー詳細は控える
- 他園の実践例は参考程度に
```

## 次のステップ

動画4では、これらの技術を実際の現場に導入するシナリオと、組織的な展開方法を学びます。