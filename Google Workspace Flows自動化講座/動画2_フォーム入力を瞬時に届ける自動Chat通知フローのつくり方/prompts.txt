# 第2回：フォーム→Chat通知 - プロンプト集

## 動画2では、AIプロンプトは使用しません

この動画では、フォーム回答をそのままChatに通知するフローを作成します。
Geminiによる要約や分析は行わないため、プロンプトは使用しません。

次回（第3回）で、Geminiを使った要約プロンプトを学びます。

---

## 参考：Chat通知メッセージのカスタマイズ例

### 基本的なメッセージ（デフォルト）
```
新しいフォーム回答が届きました

回答者: {回答者のメールアドレス}
送信日時: {送信日時}

【質問1】{質問1のタイトル}
{質問1の回答}

【質問2】{質問2のタイトル}
{質問2の回答}
```

### カスタマイズ例1：シンプル版
```
📝 新しい回答

{回答者のメールアドレス} さんから回答がありました。

{質問1の回答}
{質問2の回答}

詳細はこちら: {フォームへのリンク}
```

### カスタマイズ例2：重要質問のみ表示
```
🔔 重要な回答が届きました

【お名前】{質問1の回答}
【緊急度】{質問4の回答}
【お問い合わせ内容】{質問3の回答}

担当者: @山田太郎 よろしくお願いします
```

### カスタマイズ例3：絵文字を使った見やすい通知
```
📋 新規フォーム回答

👤 回答者: {回答者のメールアドレス}
📅 送信日時: {送信日時}

📝 内容:
{質問3の回答}

🔗 フォーム全体を確認: {フォームへのリンク}
```

---

## メッセージカスタマイズの方法

### 変数の挿入手順
1. メッセージ編集欄で、変数を挿入したい位置にカーソルを置く
2. 「+」ボタンをクリック
3. 挿入したい変数を選択（回答者のメールアドレス、送信日時、各質問の回答など）
4. 変数が `{}` で囲まれて挿入されます

### 使える変数の種類
- **回答者のメールアドレス**：フォームに回答した人のGoogleアカウント
- **送信日時**：回答が送信された日時
- **質問1の回答**、**質問2の回答**…：各質問に対する回答内容
- **フォームへのリンク**：フォーム全体へのURL

---

## Chat通知の設定で使える機能

### @ メンション
特定のユーザーに通知を飛ばしたい場合は、メッセージ内に `@ユーザー名` を入力します。

例：
```
新しい回答が届きました。
@山田太郎 確認をお願いします。
```

### リンクの追加
関連資料やフォームへのリンクを追加できます。

例：
```
詳細はこちら: https://forms.google.com/xxxxx
```

### 改行と整形
改行を使って、読みやすく整形できます。

---

## 次回以降で使用するプロンプト

### 第3回：Gemini要約プロンプト（予定）
```
以下のファイルを要約してください。
要点を3つの箇条書きでまとめ、カジュアルなトーンで書いてください。
```

---

## メモ：よくある設定ミス

### ミス1：Chatスペース名を手入力
❌ スペース名を直接手入力
⭕ スペース名の一部を入力して、候補から選択

### ミス2：Webhook URLを貼り付け
❌ Webhook URLを設定欄に貼り付け
⭕ 内部統合の場合は、スペース選択のみでOK

### ミス3：変数の括弧を手動で追加
❌ 手動で `{質問1の回答}` と入力
⭕ 「+」ボタンから変数を選択して自動挿入

---

## 参考：フォームの作成方法（おさらい）

1. Google Formsにアクセス（https://forms.google.com）
2. 「新しいフォーム」をクリック
3. 質問を追加（テキスト、選択肢、チェックボックスなど）
4. 「送信」ボタンから、フォームのリンクを取得

---

## トラブルシューティング

### 通知が届かない場合
- Chatスペースに参加しているか確認
- フローが「有効」になっているか確認
- テスト実行でエラーが出ていないか確認

### 変数が正しく表示されない場合
- 変数名が正しいか確認（手動入力ではなく、変数選択から挿入）
- フォームの質問が削除または変更されていないか確認
