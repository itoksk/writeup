# 第2回：フォーム入力を"瞬時に届ける"自動Chat通知エージェントのつくり方

**動画時間**: 10分
**学習目標**: 実際に「フォーム回答→Chat通知」の自動化エージェントを構築し、基本的な設定手順と変数の使い方を理解する

---

## 1. 導入（0:00-1:00）

### 講師セリフ

「皆さん、こんにちは。第2回では、実際に手を動かして、自動化エージェントを作っていきます。

**（画面：フォームに回答する様子）**

今日作るのは、「Googleフォームに回答が送信されたら、自動でChatに通知する」エージェントです。

**（画面：Chat通知が表示される様子）**

このエージェントを作ることで、フォーム回答があるたびに、わざわざフォームを開いて確認する必要がなくなります。回答内容も自動で通知に含めることができるので、すぐに対応が必要な回答も見逃しません。

それでは、早速作っていきましょう！」

---

## 2. Before / After の提示（1:00-2:00）

### 講師セリフ

「まず、Before/Afterを確認しましょう。

### Before：手作業での通知

**（画面：手作業のフロー図）**

1. フォームに回答が送信される
2. 担当者がフォームを開いて、新しい回答があるか確認
3. 回答内容をコピー
4. Chatを開いて、手動でメッセージを作成
5. Chatに投稿

この一連の作業に、**1件あたり5分**かかります。1日10件の回答があれば、**50分**もの時間が奪われています。

### After：自動化後

**（画面：自動化されたフロー図）**

1. フォームに回答が送信される
2. **自動でChatに通知**（作業時間0秒）

これだけです。回答者の名前、回答内容、送信日時なども、自動で通知に含めることができます。

**反応スピードが3倍に向上**し、手作業の時間は完全にゼロになります。」

---

## 3. デモ（見せ場）（2:00-3:30）

### 講師セリフ

「それでは、実際に作ってみましょう。まず、完成形をお見せします。

**（画面：実際にフォームに回答を送信）**

こちらのフォームに、テスト回答を送信します。「送信」をクリックすると…

**（画面：Chatに通知が表示される）**

ほら、数秒でChatに通知が届きました！回答者の名前、回答内容がすべて含まれています。

**（画面：通知内容をアップで表示）**

このように、フォームの各質問と回答が、わかりやすく整形されて表示されます。

これを、今から一緒に作っていきます。所要時間は、**たった5分**です。」

---

## 4. 構築手順の全体像（3:30-4:30）

### 講師セリフ

「エージェントの構築手順は、シンプルに4ステップです。

**（画面：4ステップの図を表示）**

### ステップ1：テンプレートを選ぶ

Flowsのホーム画面から、「Notify team of new form response」（新しいフォーム回答をチームに通知）というテンプレートを選びます。

### ステップ2：スターター（フォーム）を設定する

どのフォームを監視するか、選択します。すでに作成済みのフォームから選ぶだけです。

### ステップ3：Chat送信先を設定する

通知を送りたいChatスペースを選択します。メッセージの内容も、変数を使ってカスタマイズできます。

### ステップ4：テスト実行して有効化

設定が完了したら、テスト実行で動作確認。問題なければ有効化します。

たったこれだけです。それでは、実際の画面操作を見ていきましょう。」

---

## 5. 設定実演（4:30-8:00）

### 講師セリフ

「それでは、実際に設定していきます。

### ① Flowsにアクセス

**（画面：workflows.workspace.google.com にアクセス）**

まず、ブラウザで `workflows.workspace.google.com` にアクセスします。

### ② テンプレートを選ぶ

**（画面：Discover をクリック）**

ホーム画面で「Discover」をクリックすると、たくさんのテンプレートが表示されます。

**（画面：テンプレート検索）**

今回は、「Notify team of new form response」（新しいフォーム回答をチームに通知）を選びます。

**（画面：テンプレートをクリック）**

このテンプレートは、フォーム回答をスターターに、Chatに通知を送るエージェントです。

### ③ スターター設定：フォームを選ぶ

**（画面：スターター設定画面）**

最初に設定するのは、「どのフォームを監視するか」、つまりスターターです。

「Select form」（フォームを選択）をクリックすると、自分が作成したフォーム一覧が表示されます。

**（画面：フォーム一覧から選択）**

今回は、「Contact Form」（お問い合わせフォーム）を選びます。クリックするだけで、選択完了です。

### ④ Chat送信設定：スペースを選ぶ

**（画面：Chat送信設定画面）**

次に、「どのChatスペースに通知を送るか」を設定します。

**重要なポイントです。ここで、多くの人がつまづきます。**

**（画面：Space 欄をクリック）**

「Space」の欄をクリックすると、入力欄が表示されますが、**ここにスペース名を直接入力してはいけません**。

**（画面：スペース名を部分入力）**

スペース名の一部を入力すると、候補が表示されます。この候補から選択してください。

**（画面：候補から選択）**

例えば、「Marketing」と入力すると、「Marketing Team」というスペースが候補に表示されます。これをクリックして選択します。

**注意**：Webhook URLを貼り付けたり、スペース名を手動で全部入力しても、動きません。必ず、候補から選択してください。

### ⑤ メッセージ内容のカスタマイズと変数の使い方

**（画面：メッセージ編集画面）**

通知するメッセージの内容も、カスタマイズできます。ここで重要なのが「変数」の使い方です。

**変数とは何か？**

変数とは、前のステップで得られた情報を、後のステップで使うための動的なプレースホルダーです。

**（画面：変数の挿入ボタン）**

「Variables」（変数）ボタンをクリックすると、利用可能な変数の一覧が表示されます。

例えば：
- Respondent email：回答者のメールアドレス
- Timestamp：送信日時
- Form responses：フォームの各質問の回答

**（画面：変数を実際に追加）**

変数を追加すると、チップとして表示されます。このチップが、実際の値に置き換わります。

**変数の一般的な使い方**：

1. **フォーム回答を通知に含める**：フォームの各質問の回答を、変数で通知メッセージに追加
2. **送信者情報を表示**：回答者のメールアドレスを変数で追加
3. **日時を記録**：送信日時を変数で追加

**（画面：カスタマイズしたメッセージ例）**

例えば、こんなメッセージを作成できます：

```
📝 新しいフォーム回答が届きました

👤 回答者: [Respondent email]
📅 送信日時: [Timestamp]

【お問い合わせ内容】
[Question 1 response]

詳細はこちら: [Form URL]
```

### ⑥ テスト実行

**（画面：「Test run」ボタンをクリック）**

設定が完了したら、「Test run」ボタンをクリックします。

**（画面：テスト実行中）**

エージェントが、実際に実行されます。

**（画面：Chatに通知が表示）**

テストが成功すると、Chatに通知が届きます！完璧ですね。

### ⑦ 本番稼働

**（画面：「Turn on」ボタンをクリック）**

テストが成功したら、「Turn on」ボタンをクリックします。

これで、エージェントが本番稼働します。今後、フォームに回答が送信されるたびに、自動でChatに通知されます。」

---

## 6. 変数活用のベストプラクティス（8:00-9:00）

### 講師セリフ

「変数の活用について、もう少し詳しく説明します。

### ベストプラクティス1：変数はチップで追加

変数を手動で `{変数名}` のように入力しても動きません。必ず「Variables」ボタンから選択して、チップとして追加してください。

### ベストプラクティス2：変数でアプリ間のデータ共有

変数を使うことで、アプリ間でコンテンツを共有できます。

例えば：
- フォームの回答をスプレッドシートに記録
- メール送信者に自動返信を送る際、Toを送信者に設定

### ベストプラクティス3：後のステップで前のステップの情報を活用

エージェントでは、各ステップが変数を生成します。その変数を、後のステップで利用できます。

例えば、次回学ぶGemini要約では：
1. Geminiがファイルを要約（変数：Geminiの応答）
2. その要約をChat通知に含める（変数を使用）

このように、ステップをつなげていくことで、複雑な自動化が実現できます。」

---

## 7. 注意点・活用ポイント（9:00-9:30）

### 講師セリフ

「いくつか、注意点と活用ポイントをお伝えします。

### 注意点1：Chatスペースは選択式

先ほども触れましたが、Chatスペースは**候補から選択**してください。手動入力やWebhook URLの貼り付けでは動きません。

### 注意点2：スペースのメンバー権限

通知を送るChatスペースには、あらかじめ参加している必要があります。参加していないスペースには、通知を送れません。

### 注意点3：フォームの権限

監視するフォームは、自分が編集権限を持っているものを選んでください。閲覧権限のみのフォームは、スターターとして設定できません。

### 活用ポイント：メッセージのカスタマイズ

メッセージ内容は、自由にカスタマイズできます。例えば：
- 重要な質問だけを通知に含める
- 絵文字を使って、見やすくする
- リンクを追加して、すぐにフォームや関連資料にアクセスできるようにする」

---

## 8. まとめ・次回予告（9:30-10:00）

### 講師セリフ

「今日は、「フォーム回答→Chat通知」の自動化エージェントを作りました。

### 今日のポイント

1. テンプレートを使えば、**5分でエージェントが完成**
2. スターター（フォーム）とステップ（Chat通知）を設定
3. Chatスペースは**候補から選択**する（手動入力NG）
4. **変数**を使って、前のステップの情報を後のステップで活用
5. 変数は**Variablesボタンから選択**してチップとして追加
6. テスト実行してから本番稼働させる

**（画面：今日のポイントを箇条書きで表示）**

次回は、さらに進化させて、「Driveにアップロードされたファイルを、Geminiが自動で要約して、Chatに通知する」エージェントを作ります。

**（画面：次回のタイトルを表示）**

次回：「Driveアップロード→Gemini要約×Chat連携の実践」

AIステップの使い方、Geminiのソース設定など、AI活用の核心に迫ります。それでは、次回もお楽しみに！」

---

## 画面表示資料一覧

1. フォームに回答する様子（0:15）
2. Chat通知が表示される様子（0:30）
3. 手作業のフロー図（1:00）
4. 自動化されたフロー図（1:30）
5. 完成形デモ：フォーム送信（2:00）
6. 完成形デモ：Chat通知表示（2:30）
7. 4ステップの図（3:30）
8. Flowsホーム画面（4:30）
9. Discover をクリック（4:45）
10. テンプレート検索（5:00）
11. スターター設定画面（5:30）
12. フォーム一覧（6:00）
13. Chat送信設定画面（6:30）
14. Space 選択欄（6:45）
15. メッセージ編集画面（7:00）
16. 変数の挿入ボタン（7:15）
17. 変数を実際に追加（7:30）
18. カスタマイズしたメッセージ例（7:45）
19. Test run 画面（8:00）
20. Turn on 画面（8:30）
21. 今日のポイントまとめ（9:30）
22. 次回のタイトル表示（9:50）

---

## デモで使用する設定・ファイル

- テスト用のGoogleフォーム（「Contact Form」など）
- テスト用のChatスペース（「Marketing Team」など）
- フォームの質問例：
  - Name（お名前）
  - Email（メールアドレス）
  - Inquiry（お問い合わせ内容）
  - Urgency（緊急度：High/Medium/Low）

---

## 講師への補足指示

- **用語の統一**：「フロー」ではなく「エージェント」、「トリガー」ではなく「スターター」を使用してください
- **英語表記**：テンプレート名やボタン名は英語表記を使用してください（日本語化されていない可能性があるため）
- **変数の重要性**：変数の使い方を丁寧に説明してください。これが次回以降のGemini連携で重要になります
- **実演のポイント**：実際の画面操作を、ゆっくり、はっきりと見せてください
- **つまづきポイントの強調**：Chatスペース選択と変数の追加方法は、特に強調してください
- **テンポ**：設定実演は3.5分間と長めですが、丁寧に進めてください
- **成功体験**：受講者に「自分にもできた！」という実感を持ってもらうことが最重要です
