<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2回：面接前準備を自動化！カレンダー × Gemini × Chatで候補者へ必要情報を自動送信する | "CX向上型" 採用オペレーションフロー</title>
    <meta name="description" content="Google Workspace Studio × Geminiで面接前準備を自動化する">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+JP:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="lesson-style.css">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --accent-primary: #7c3aed;
            --accent-secondary: #ec4899;
            --accent-tertiary: #8b5cf6;
            --accent-gradient: linear-gradient(135deg, #7c3aed 0%, #ec4899 50%, #8b5cf6 100%);
            --border-color: #e2e8f0;
            --border-hover: #cbd5e1;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --transition-fast: 0.15s ease;
            --transition-base: 0.3s ease;
            --coral: #ef4444;
            --green: #22c55e;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
        }

        ::selection {
            background: var(--accent-primary);
            color: white;
        }

        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-back {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: var(--transition-fast);
        }

        .nav-back:hover { color: var(--accent-primary); }

        .nav-lesson {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            color: var(--accent-primary);
        }

        .hero {
            min-height: 70vh;
            display: flex;
            align-items: center;
            padding: 8rem 2rem 4rem;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            position: relative;
        }

        .hero-pattern {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(circle at 1px 1px, var(--border-color) 1px, transparent 0);
            background-size: 40px 40px;
            opacity: 0.5;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .hero-title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 800;
            letter-spacing: -0.03em;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        .hero-title-accent {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-description {
            font-size: 1.125rem;
            color: var(--text-secondary);
            max-width: 700px;
            line-height: 1.8;
        }

        .section {
            padding: 5rem 2rem;
        }

        .section-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            margin-bottom: 3rem;
        }

        .section-label {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--accent-primary);
            margin-bottom: 0.75rem;
        }

        .section-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 700;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
        }

        .section-description {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 700px;
            line-height: 1.8;
        }

        .goal-card {
            background: var(--accent-gradient);
            color: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin-bottom: 2rem;
            font-size: 1.125rem;
            font-weight: 500;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .comparison-card {
            padding: 2rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            transition: var(--transition-base);
        }

        .comparison-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .comparison-card.before { border-top: 4px solid var(--coral); }
        .comparison-card.after { border-top: 4px solid var(--green); }

        .comparison-header {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            margin-bottom: 1.25rem;
        }

        .comparison-card.before .comparison-header { color: var(--coral); }
        .comparison-card.after .comparison-header { color: var(--green); }

        .comparison-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .comparison-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            color: var(--text-secondary);
            font-size: 0.9375rem;
            line-height: 1.6;
        }

        .comparison-list li::before {
            content: '';
            flex-shrink: 0;
            width: 6px;
            height: 6px;
            margin-top: 0.5rem;
            border-radius: 50%;
        }

        .comparison-card.before .comparison-list li::before { background: var(--coral); }
        .comparison-card.after .comparison-list li::before { background: var(--green); }

        .flow-steps {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .flow-step {
            display: flex;
            gap: 1.5rem;
            padding: 2rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            transition: var(--transition-base);
        }

        .flow-step:hover {
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-md);
        }

        .step-number {
            width: 56px;
            height: 56px;
            background: var(--accent-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-content h3 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }

        .step-content p {
            color: var(--text-secondary);
            font-size: 0.9375rem;
            margin-bottom: 0.75rem;
        }

        .step-content ul {
            list-style: disc;
            margin-left: 1.25rem;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .step-content li { margin-bottom: 0.25rem; }

        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .config-table th {
            background: var(--text-primary);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .config-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9375rem;
            color: var(--text-secondary);
        }

        .config-table tr:last-child td { border-bottom: none; }
        .config-table tr:hover td { background: var(--bg-secondary); }

        .code-block-wrapper {
            position: relative;
            margin: 1rem 0;
        }

        .code-block {
            background: var(--text-primary);
            color: var(--accent-secondary);
            padding: 1.5rem;
            border-radius: var(--radius-md);
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            white-space: pre-wrap;
            line-height: 1.8;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .code-block:hover {
            opacity: 0.9;
        }

        .copy-hint {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-family: 'Inter', sans-serif;
            pointer-events: none;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--accent-gradient);
            color: white;
            padding: 1rem 2rem;
            border-radius: var(--radius-md);
            font-weight: 500;
            font-size: 0.9375rem;
            box-shadow: var(--shadow-lg);
            z-index: 9999;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .highlight-box {
            background: rgba(124, 58, 237, 0.05);
            border-left: 4px solid var(--accent-primary);
            padding: 1.5rem;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            margin: 2rem 0;
        }

        .highlight-box h4 {
            color: var(--accent-primary);
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .highlight-box p {
            font-size: 0.9375rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .tip-card {
            padding: 1.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            transition: var(--transition-base);
        }

        .tip-card:hover {
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-md);
        }

        .tip-card h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
        }

        .tip-card p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .checklist {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin: 2rem 0;
        }

        .checklist h3 {
            color: var(--accent-primary);
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .checklist ul { list-style: none; }

        .checklist li {
            padding: 0.75rem 0;
            padding-left: 2rem;
            position: relative;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9375rem;
            color: var(--text-secondary);
        }

        .checklist li:last-child { border-bottom: none; }

        .checklist li::before {
            content: '□';
            position: absolute;
            left: 0;
            color: var(--accent-primary);
            font-weight: 700;
        }

        .summary-box {
            background: var(--accent-gradient);
            color: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin: 2rem 0;
        }

        .summary-box h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .summary-box ul {
            list-style: none;
        }

        .summary-box li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9375rem;
        }

        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            font-weight: 700;
        }

        .next-preview {
            background: var(--text-primary);
            color: white;
            padding: 4rem 2rem;
        }

        .next-preview-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .next-preview .section-label {
            color: rgba(255, 255, 255, 0.5);
        }

        .next-preview h2 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .next-preview h3 {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .next-preview p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9375rem;
            max-width: 600px;
        }

        .lesson-nav {
            display: flex;
            justify-content: space-between;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            gap: 1rem;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9375rem;
            border-radius: var(--radius-md);
            transition: var(--transition-base);
        }

        .nav-prev {
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .nav-prev:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .nav-next {
            background: var(--accent-gradient);
            color: white;
        }

        .nav-next:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .hero { padding: 6rem 1.5rem 3rem; }
            .section { padding: 3rem 1.5rem; }
            .comparison-grid { grid-template-columns: 1fr; }
            .tips-grid { grid-template-columns: 1fr; }
            .flow-step { flex-direction: column; gap: 1rem; }
            .step-number { width: 48px; height: 48px; font-size: 1rem; }
            .lesson-nav { flex-direction: column; }
        }

        [id] { scroll-margin-top: 80px; }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-back">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                コース一覧
            </a>
            <div class="nav-lesson">LESSON 2 / 5</div>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-pattern"></div>
        <div class="hero-content">
            <div class="hero-badge">第2回 / 全5回</div>
            <h1 class="hero-title">
                面接前準備を自動化！<br>
                <span class="hero-title-accent">カレンダー × Gemini × Chatで候補者へ必要情報を自動送信する</span>
            </h1>
            <p class="hero-description">
                面接予定をCalendarから自動検知し、Geminiで候補者情報を要約、面接官へChat通知するエージェントを作成します。
            </p>

            <div class="comparison-grid" style="margin-top: 2.5rem;">
                <div class="comparison-card before">
                    <div class="comparison-header">BEFORE：受講前</div>
                    <ul class="comparison-list">
                        <li>面接前日に手動で候補者情報を確認</li>
                        <li>面接官への情報共有を忘れがち</li>
                        <li>準備不足で面接品質にムラ</li>
                        <li>毎回30分の準備時間が必要</li>
                    </ul>
                </div>
                <div class="comparison-card after">
                    <div class="comparison-header">AFTER：受講後</div>
                    <ul class="comparison-list">
                        <li>面接前日に候補者情報が自動送信</li>
                        <li>面接官へChat通知で確実に共有</li>
                        <li>Geminiが要約した情報で品質均一化</li>
                        <li>準備時間ゼロで面接に集中</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="goal">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Goal</div>
                <h2 class="section-title">学習目標</h2>
            </div>
            <div class="goal-card">
                面接予定をCalendarから検知し、Geminiで候補者情報を要約、
                面接官へChat通知するエージェントを作成する
            </div>
        </div>
    </section>

    <section class="section" id="flow" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Agent Flow</div>
                <h2 class="section-title">エージェントのフロー</h2>
                <p class="section-description">Workspace Studioの自動生成機能で提案されるフローをベースに構築します。</p>
            </div>

            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-number">S</div>
                    <div class="step-content">
                        <h3>スターター：会議に基づいて</h3>
                        <p>Calendarの会議（面接）の前に自動でフローを開始します。繰り返しの会議の場合は、会議ごとにフローが実行されます。</p>
                        <ul>
                            <li>トリガー：会議の前の指定時間</li>
                            <li>時間オフセット：10分（面接10分前に起動）</li>
                            <li>対象：全てのミーティング or 特定のミーティング</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>アクション：会議情報を取得</h3>
                        <p>スターターで検知した会議の詳細情報を取得します。</p>
                        <ul>
                            <li>イベントタイトル</li>
                            <li>開始時刻・終了時刻</li>
                            <li>参加者リスト</li>
                            <li>イベント説明文（候補者情報など）</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>決める：面接かどうかを判定</h3>
                        <p>イベントタイトルや説明文から、面接イベントかどうかを判定します。</p>
                        <ul>
                            <li>条件：タイトルに「面接」「Interview」「選考」を含む</li>
                            <li>面接でない場合：フローを終了</li>
                            <li>面接の場合：次のステップへ進む</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>条件確認：ステップ2の決定を確認</h3>
                        <p>面接と判定された場合のみ、以降のステップを実行します。</p>
                        <ul>
                            <li>TRUE：Geminiでの要約処理へ進む</li>
                            <li>FALSE：フローを終了（通常の会議は対象外）</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Geminiに聞く：候補者情報を要約</h3>
                        <p>会議情報からGeminiが候補者サマリーを生成します。</p>
                        <ul>
                            <li>入力: イベントタイトル、説明文、参加者情報</li>
                            <li>出力: 候補者名、ポジション、面接のポイント</li>
                            <li>言語: 日本語</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>チャットで通知する</h3>
                        <p>面接官へGoogle Chatで自動通知します。</p>
                        <ul>
                            <li>送信先: 自分へのDM（※スペース投稿機能は削除されました）</li>
                            <li>内容: 候補者サマリー、面接情報</li>
                            <li>タイミング: 面接10分前（スターターの設定）</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="steps">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">STEPS</div>
                <h2 class="section-title">エージェント作成手順</h2>
                <p class="section-description">自然言語でプロンプトを入力すると、Workspace Studioが自動でフローを構築してくれます。</p>
            </div>

            <div class="highlight-box">
                <h4>自動生成プロンプト（コピー可能）</h4>
                <div class="code-block-wrapper">
                    <div class="copy-hint">クリックでコピー</div>
                    <div class="code-block" onclick="copyToClipboard(this)">面接予定をCalendarから検知し、Geminiで候補者情報を要約、面接官へChat通知するエージェントを作成する</div>
                </div>
            </div>

            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>新規エージェント作成</h3>
                        <p>Google Workspace Studio → 「Create agent」→ 上記のプロンプトをチャットに入力してフローを自動生成</p>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>スターター設定：会議に基づいて</h3>
                        <p>自動生成された「会議に基づいて」スターターを確認・調整</p>
                        <ul>
                            <li>対象：全てのミーティング</li>
                            <li>時間オフセット：10分</li>
                            <li>タイミング：会議の前に開始</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>ステップ1：アクション設定</h3>
                        <p>会議情報を取得するアクションを確認。イベントタイトル、参加者、説明文が取得されます。</p>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>ステップ2-3：条件分岐の設定</h3>
                        <p>「決める」ステップで面接かどうかを判定。条件に合致した場合のみ次に進むよう設定。</p>
                        <ul>
                            <li>条件例：タイトルに「面接」を含む</li>
                        </ul>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>ステップ4：Geminiに聞く</h3>
                        <p>「Geminiに聞く」ステップでプロンプトを設定。候補者情報の要約を生成します。</p>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h3>ステップ5：チャットで通知する</h3>
                        <p>「チャットで通知する」→ 自分へのDMで面接準備情報を受信<br>
                        ※スペースへの投稿機能は削除されました</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="settings" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Agent Settings</div>
                <h2 class="section-title">エージェント設定</h2>
            </div>

            <table class="config-table">
                <thead>
                    <tr>
                        <th>項目</th>
                        <th>設定値</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>エージェント名</td>
                        <td>Interview Prep Notification</td>
                    </tr>
                    <tr>
                        <td>Description</td>
                        <td>Sends interview preparation summary to interviewers before meetings</td>
                    </tr>
                    <tr>
                        <td>スターター</td>
                        <td>会議に基づいて（会議の10分前に開始）</td>
                    </tr>
                    <tr>
                        <td>時間オフセット</td>
                        <td>10分（単位：分）</td>
                    </tr>
                    <tr>
                        <td>対象ミーティング</td>
                        <td>全てのミーティング（または特定のミーティングを選択可）</td>
                    </tr>
                    <tr>
                        <td>条件分岐</td>
                        <td>タイトルに「面接」「Interview」「選考」を含む場合のみ実行</td>
                    </tr>
                    <tr>
                        <td>Chat送信先</td>
                        <td>自分へのDM</td>
                    </tr>
                    <tr>
                        <td>出力言語</td>
                        <td>Japanese</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <h4>スターター設定の詳細</h4>
                <p><strong>会議に基づいて：</strong> 会議の前後の指定時間に開始します。繰り返しの会議の場合は、フローは会議ごとに実行されます。</p>
                <p><strong>時間オフセット：</strong> 10分前に設定すると、面接の10分前に通知が届きます。</p>
                <p><strong>注意：</strong> カレンダーの変更がフローと同期されるまでに最大5分かかる場合があります。</p>
            </div>
        </div>
    </section>

    <section class="section" id="prompt" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Gemini Prompt</div>
                <h2 class="section-title">Geminiプロンプト</h2>
            </div>

            <div class="code-block-wrapper">
                <div class="copy-hint">クリックでコピー</div>
                <div class="code-block" onclick="copyToClipboard(this)">あなたは面接準備を担当するHRアシスタントです。

候補者名: {candidate_name}
応募ポジション: {position}
履歴書の内容: {resume_content}

面接官向けに以下の情報を含む簡潔なサマリーを作成してください：
1. 主要なスキル・資格（3つのポイント）
2. 関連する経験のハイライト
3. 面接で確認すべきポイント
4. 特筆すべき点や懸念事項

サマリーは200語以内で簡潔にまとめてください。</div>
            </div>

            <div class="highlight-box">
                <h4>プロンプト設計のポイント</h4>
                <p><strong>役割定義:</strong> 「HR assistant preparing interview briefings」で明確に役割を定義</p>
                <p><strong>出力形式:</strong> 4つの項目を箇条書きで構造化</p>
                <p><strong>文字数制限:</strong> 「under 200 words」で簡潔さを担保</p>
                <p><strong>言語指定:</strong> 「Output in Japanese」で日本語出力を明示</p>
            </div>

            <div class="tips-grid">
                <div class="tip-card">
                    <h4>入力変数の設定</h4>
                    <p>{candidate_name}: Calendarイベントタイトルから抽出<br>
                    {position}: イベント説明文から取得<br>
                    {resume_content}: Drive検索で取得したファイル内容</p>
                </div>
                <div class="tip-card">
                    <h4>要約の品質向上</h4>
                    <p>「Key qualifications」「Relevant experience」など、具体的な出力項目を指定することで、一貫性のある要約が生成されます</p>
                </div>
                <div class="tip-card">
                    <h4>面接官への配慮</h4>
                    <p>「Suggested interview focus areas」で面接の準備を支援し、「notable points or concerns」でリスク管理を促進</p>
                </div>
                <div class="tip-card">
                    <h4>簡潔性の担保</h4>
                    <p>200語制限により、面接直前でもサッと読める情報量に調整。面接官の負担を最小化</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="chat-template">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Chat Message</div>
                <h2 class="section-title">Chatメッセージテンプレート</h2>
            </div>

            <div class="code-block-wrapper">
                <div class="copy-hint">クリックでコピー</div>
                <div class="code-block" onclick="copyToClipboard(this)">【面接準備情報】

本日 {interview_time} からの面接情報です。

■ 候補者: {candidate_name}
■ 応募ポジション: {position}

■ 候補者サマリー
{resume_summary}

■ 履歴書リンク
{resume_link}

面接頑張ってください！</div>
            </div>

            <div class="highlight-box">
                <h4>履歴書が見つからない場合のフォールバック</h4>
                <div class="code-block-wrapper">
                    <div class="copy-hint">クリックでコピー</div>
                    <div class="code-block" onclick="copyToClipboard(this)">【面接準備情報 - 要確認】

本日 {interview_time} からの面接があります。

■ 候補者: {candidate_name}
■ 応募ポジション: {position}

⚠️ 候補者の履歴書が自動取得できませんでした。
以下のフォルダを手動でご確認ください：
{folder_link}

お手数をおかけしますが、よろしくお願いいたします。</div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="calendar-filter" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Calendar Filter</div>
                <h2 class="section-title">Calendarイベント検索フィルター</h2>
                <p class="section-description">イベントタイトルに以下のキーワード（いずれか）が含まれる予定を検索します：</p>
            </div>

            <div class="tips-grid">
                <div class="tip-card">
                    <h4>面接</h4>
                    <p>最も一般的な面接イベントの命名。「面接：候補者名」などで使用</p>
                </div>
                <div class="tip-card">
                    <h4>Interview</h4>
                    <p>英語表記の面接予定。グローバル採用で使用</p>
                </div>
                <div class="tip-card">
                    <h4>採用面談</h4>
                    <p>カジュアル面談などで使用される表記</p>
                </div>
                <div class="tip-card">
                    <h4>選考</h4>
                    <p>「一次選考」「最終選考」などで使用</p>
                </div>
            </div>

            <div class="highlight-box">
                <h4>推奨：Calendar命名規則</h4>
                <p>イベントタイトル: <strong>「面接：[候補者名]（[ポジション]）」</strong></p>
                <p>例: 「面接：山田太郎（エンジニア）」</p>
                <p>この形式により、候補者名とポジション情報を自動抽出できます。</p>
            </div>
        </div>
    </section>

    <section class="section" id="drive-search">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Drive Search</div>
                <h2 class="section-title">Driveファイル検索クエリ</h2>
            </div>

            <div class="code-block-wrapper">
                <div class="copy-hint">クリックでコピー</div>
                <div class="code-block" onclick="copyToClipboard(this)">title contains '{candidate_name}' and
(title contains '履歴書' or title contains '職務経歴書' or title contains 'Resume' or title contains 'CV')</div>
            </div>

            <div class="highlight-box">
                <h4>推奨：フォルダ構造</h4>
                <div class="code-block-wrapper">
                    <div class="copy-hint">クリックでコピー</div>
                    <div class="code-block" onclick="copyToClipboard(this)">採用書類/
├── [候補者名A]_[日付]/
│   ├── 履歴書_[候補者名].pdf
│   └── 職務経歴書_[候補者名].pdf
├── [候補者名B]_[日付]/
│   └── 履歴書_[候補者名].pdf
└── [候補者名C]_[日付]/
    └── ...</div>
                </div>
            </div>

            <div class="tips-grid">
                <div class="tip-card">
                    <h4>フォルダ命名規則</h4>
                    <p>「[候補者名]_[応募日付]」形式で統一すると、検索精度が向上します。</p>
                </div>
                <div class="tip-card">
                    <h4>ファイル命名規則</h4>
                    <p>「履歴書_[候補者名].pdf」形式で統一。候補者名を含めることで検索しやすくなります。</p>
                </div>
                <div class="tip-card">
                    <h4>対応ファイル形式</h4>
                    <p>PDF、DOCX形式に対応。Geminiがテキストを抽出して要約します。</p>
                </div>
                <div class="tip-card">
                    <h4>複数ファイル対応</h4>
                    <p>履歴書と職務経歴書が別ファイルの場合、両方を取得して統合要約を生成できます。</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="operation-tips" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Operation Tips</div>
                <h2 class="section-title">運用のポイント</h2>
            </div>

            <div class="tips-grid">
                <div class="tip-card">
                    <h4>通知タイミング調整</h4>
                    <p>デフォルトは面接10分前ですが、チームの好みに応じて15分前、30分前に調整可能です。</p>
                </div>
                <div class="tip-card">
                    <h4>エラー対応</h4>
                    <p>履歴書が見つからない場合はフォールバックメッセージで手動確認を促し、面接が滞らないよう配慮します。</p>
                </div>
                <div class="tip-card">
                    <h4>プライバシー保護</h4>
                    <p>候補者情報は面接官のみに送信。採用チーム全体への配信は避け、情報管理を徹底します。</p>
                </div>
                <div class="tip-card">
                    <h4>フォルダ権限設定</h4>
                    <p>採用書類フォルダへのアクセス権限を適切に設定し、エージェントがファイルを読み取れるようにします。</p>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="test">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Test Checklist</div>
                <h2 class="section-title">テスト確認ポイント</h2>
            </div>

            <div class="checklist">
                <h3>エージェント動作確認</h3>
                <ul>
                    <li>「会議に基づいて」スターターが正しく設定されているか</li>
                    <li>時間オフセットが10分（会議前）に設定されているか</li>
                    <li>会議情報（タイトル、参加者、説明文）が正しく取得されているか</li>
                    <li>「決める」ステップで面接かどうか正しく判定されているか</li>
                    <li>通常の会議（面接以外）ではフローが終了するか</li>
                    <li>Geminiの要約が適切な内容・長さか</li>
                    <li>Chatメッセージが自分のDMに正しく届くか</li>
                    <li>カレンダー変更後、5分以内に同期されるか確認</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="section" id="variables" style="background: var(--bg-secondary);">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Variables</div>
                <h2 class="section-title">変数一覧</h2>
            </div>

            <table class="config-table">
                <thead>
                    <tr>
                        <th>変数名</th>
                        <th>内容</th>
                        <th>取得元</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{event_title}</td>
                        <td>イベントタイトル</td>
                        <td>スターター（会議に基づいて）</td>
                    </tr>
                    <tr>
                        <td>{event_start}</td>
                        <td>開始時刻</td>
                        <td>スターター（会議に基づいて）</td>
                    </tr>
                    <tr>
                        <td>{event_end}</td>
                        <td>終了時刻</td>
                        <td>スターター（会議に基づいて）</td>
                    </tr>
                    <tr>
                        <td>{attendees}</td>
                        <td>参加者リスト</td>
                        <td>スターター（会議に基づいて）</td>
                    </tr>
                    <tr>
                        <td>{description}</td>
                        <td>イベント説明文</td>
                        <td>スターター（会議に基づいて）</td>
                    </tr>
                    <tr>
                        <td>{is_interview}</td>
                        <td>面接かどうか</td>
                        <td>「決める」ステップの結果</td>
                    </tr>
                    <tr>
                        <td>{candidate_summary}</td>
                        <td>候補者サマリー</td>
                        <td>Gemini生成</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="section" id="summary">
        <div class="section-container">
            <div class="section-header">
                <div class="section-label">Summary</div>
                <h2 class="section-title">今日のポイント</h2>
            </div>

            <div class="summary-box">
                <h3>まとめ</h3>
                <ul>
                    <li>「会議に基づいて」スターターで面接前に自動起動</li>
                    <li>時間オフセット10分で面接前に通知を配信</li>
                    <li>「決める」ステップで面接かどうかを自動判定</li>
                    <li>条件分岐で面接のみをフィルタリング</li>
                    <li>Geminiで候補者情報を自動要約</li>
                    <li>Chat通知で自分のDMに面接情報を配信</li>
                    <li>自然言語プロンプトでフローを自動生成</li>
                    <li>面接官の準備時間を10分→0分に短縮</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="next-preview">
        <div class="next-preview-container">
            <div class="section-label">Next</div>
            <h2>次回予告</h2>
            <h3>面接後作業をゼロにする！要約＆評価ポイントをGmail/Chatへ自動送信するフローを作る</h3>
            <p>
                面接終了をトリガーに、評価依頼と次ステップ案内を自動化します。
                Proceed/Hold/Declineの条件分岐で、候補者ごとに適切な対応を自動実行します。
            </p>
        </div>
    </section>

    <nav class="lesson-nav">
        <a href="lesson1.html" class="nav-btn nav-prev">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            前のレッスン
        </a>
        <a href="lesson3.html" class="nav-btn nav-next">
            次のレッスン
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </nav>

    <div class="toast" id="toast">コピーしました</div>

    <script>
        function copyToClipboard(element) {
            const text = element.innerText;
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 2000);
            });
        }
    </script>
</body>
</html>
