# 🎯 改善サイクルデモプロンプト集：作ったツールを育て続ける仕組み

## ❌ ダメな例（作りっぱなし）

```
「請求書システム完成！」
→ 1ヶ月後...
「なんか使いにくいけど、まあいいか」
→ 3ヶ月後...
「エラー多いし、もう使わない」
```

### 問題点：
- 初版で満足して改善しない
- 問題を見つけても放置
- 徐々に使われなくなる

---

## ⭕ 良い例（継続改善）

```
「請求書システム v1.0完成！」
→ 週次振り返り
「入力に時間がかかる問題発見」
→ 改善実装（15分）
「v1.1：オートコンプリート追加」
→ 3ヶ月後
「v2.5：チーム全員が愛用中！」
```

### 成功の理由：
- 定期的な振り返り
- データに基づく改善
- 小さな改善の積み重ね

---

## 📊 使用ログの自動記録

### GASで使用状況を記録

```javascript
// すべての操作をログに記録
function logUsage(action, time, status) {
  const sheet = SpreadsheetApp.getActiveSpreadsheet()
    .getSheetByName('使用ログ');
  
  sheet.appendRow([
    new Date(),
    action,
    time,
    status,
    Session.getActiveUser().getEmail()
  ]);
}

// 請求書作成の処理時間を測定
function createInvoiceWithLog() {
  const start = new Date();
  
  try {
    // 実際の処理
    createInvoice();
    
    const time = new Date() - start;
    logUsage('請求書作成', time, 'success');
    
  } catch(e) {
    logUsage('請求書作成', 0, 'error: ' + e.toString());
  }
}
```

### エラーパターンの分析

```javascript
function analyzeErrors() {
  const logs = getErrorLogs();
  const patterns = {};
  
  logs.forEach(log => {
    const error = log.errorType;
    patterns[error] = (patterns[error] || 0) + 1;
  });
  
  // 頻出エラーTOP3を特定
  return Object.entries(patterns)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 3);
}
```

---

## 📈 週次振り返りダッシュボード

### Geminiへのプロンプト

```
請求書システムの使用ログから
週次振り返りダッシュボードを作成。

データ：
- 今週の作成数：45件
- 平均処理時間：3.2分
- エラー率：4.4%
- 先週との比較データ

以下を含むHTML：
1. KPI表示（カード形式）
2. 推移グラフ
3. 問題点のハイライト
4. 改善提案エリア
```

### Geminiの出力例

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    .dashboard {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }
    .kpi-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .kpi-value {
      font-size: 36px;
      font-weight: bold;
      color: #4285f4;
    }
    .kpi-label {
      color: #666;
      margin-top: 5px;
    }
    .trend {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 14px;
      margin-top: 10px;
    }
    .trend-up {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .trend-down {
      background: #ffebee;
      color: #c62828;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <h1>📊 週次振り返りダッシュボード</h1>
    
    <div class="kpi-grid">
      <div class="kpi-card">
        <div class="kpi-value">45</div>
        <div class="kpi-label">請求書作成数</div>
        <span class="trend trend-up">↑ 20% 増加</span>
      </div>
      
      <div class="kpi-card">
        <div class="kpi-value">3.2分</div>
        <div class="kpi-label">平均処理時間</div>
        <span class="trend trend-up">↓ 35% 改善</span>
      </div>
      
      <div class="kpi-card">
        <div class="kpi-value">4.4%</div>
        <div class="kpi-label">エラー率</div>
        <span class="trend trend-down">↑ 要改善</span>
      </div>
    </div>
    
    <canvas id="weeklyChart"></canvas>
  </div>
</body>
</html>
```

---

## 💡 月次改善提案の自動生成

### ChatGPTへのプロンプト

```
以下の使用ログデータから改善提案を3つ作成：

【使用状況】
- 月間作成数：180件
- 平均処理時間：3.5分
- エラー率：5%

【頻出エラー】
1. 顧客名が見つからない（40%）
2. PDF生成失敗（30%）
3. 計算エラー（20%）

【ユーザーフィードバック】
- 顧客検索が遅い
- 一括処理したい
- モバイル対応希望

各提案に以下を含めて：
- 改善内容
- 期待効果（数値で）
- 実装時間
- 優先度（高/中/低）
```

### ChatGPTの出力例

```
【11月の改善提案】

優先度：高
1. 顧客名オートコンプリート機能
   改善内容：入力時に候補表示
   期待効果：エラー40%削減、入力時間50%短縮
   実装時間：30分
   
優先度：高  
2. PDF生成ロジック改修
   改善内容：エラーハンドリング強化
   期待効果：エラー30%削減
   実装時間：45分

優先度：中
3. 一括処理機能
   改善内容：複数請求書の同時作成
   期待効果：処理時間70%削減（10件以上の場合）
   実装時間：60分
```

---

## 🔄 改善実装とチケット管理

### 改善チケットの自動作成

```javascript
function createImprovementTickets(suggestions) {
  const sheet = SpreadsheetApp.getActiveSpreadsheet()
    .getSheetByName('改善チケット');
  
  suggestions.forEach(s => {
    sheet.appendRow([
      new Date(),
      s.title,
      s.priority,
      s.estimatedTime,
      s.expectedEffect,
      'pending'
    ]);
  });
  
  // Slackに通知
  notifySlack('新しい改善チケットが作成されました');
}
```

### 改善効果の測定

```javascript
function measureImprovement(feature) {
  const before = getMetricsBefore(feature);
  const after = getMetricsAfter(feature);
  
  const improvement = {
    処理時間: calculateImprovement(before.time, after.time),
    エラー率: calculateImprovement(before.errors, after.errors),
    利用頻度: calculateImprovement(before.usage, after.usage)
  };
  
  // レポート生成
  generateImprovementReport(feature, improvement);
  
  return improvement;
}
```

---

## 📅 定期振り返りテンプレート

### 週次振り返り（毎週金曜）

```
【第X週の振り返り】

1. 今週の利用状況
   - 利用回数：
   - 平均時間：
   - エラー数：

2. 発見した問題
   - 
   - 
   - 

3. ユーザーフィードバック
   - 
   - 

4. 来週の改善予定
   - 
```

### 月次改善計画（月末）

```
【X月の改善計画】

1. 先月の改善効果
   - 実装した機能：
   - 効果測定結果：

2. 今月の優先事項
   優先度：高
   - 
   優先度：中
   - 
   優先度：低
   - 

3. リソース配分
   - 改善時間：計X時間
   - 担当者：
```

---

## 📊 改善の可視化

### 改善履歴グラフ（Gemini生成）

```
改善履歴をタイムラインで表示するHTML作って。

データ：
- v1.0（10/1）：初版リリース
- v1.1（10/8）：検索機能追加
- v1.2（10/15）：エラー処理改善
- v1.3（10/22）：UI改善
- v2.0（11/1）：一括処理対応

各バージョンで：
- 処理時間がどう変化したか
- エラー率の推移
- 新機能の効果

グラフとタイムラインで可視化。
```

---

## 🏆 成功事例

### 3ヶ月後の成果

```javascript
const results = {
  初版: {
    処理時間: "5分",
    エラー率: "15%",
    利用者: "1人"
  },
  
  3ヶ月後: {
    処理時間: "1.5分",
    エラー率: "1%",
    利用者: "10人",
    
    改善回数: 12,
    追加機能: 8,
    総改善時間: "6時間"
  },
  
  効果: {
    時間削減: "70%",
    エラー削減: "93%",
    利用者増: "10倍"
  }
};
```

---

## 💡 改善を続けるコツ

### DO ✅
- データを記録する
- 小さく改善する
- ユーザーの声を聞く
- 効果を測定する
- 成果を共有する

### DON'T ❌
- 大規模改修を狙う
- データなしで判断
- フィードバック無視
- 改善を後回し
- 一人で抱え込む

---

## 🚀 今日から始める改善サイクル

### Step 1：ログ記録開始（5分）

```javascript
// 既存コードに1行追加
function yourFunction() {
  logUsage('機能名', new Date(), 'success');
  // 既存の処理
}
```

### Step 2：週次振り返り設定（10分）

```
カレンダー登録：
毎週金曜 16:00-16:15
「ツール振り返りタイム」

チェックリスト：
□ ログ確認
□ 問題点メモ
□ 改善案検討
```

### Step 3：最初の改善（15分）

```
今週のログから：
最も時間がかかっている処理を
15分で改善してみる
```

---

## 🎯 Remember

**ソフトウェアは生き物**
**使って、測って、改善する**
**小さな改善の積み重ねが大きな価値に**

継続的な改善で、本当に使えるツールを育てよう！