// ================================================================================================
// å‹•ç”»2ãƒ‡ãƒ¢ç”¨: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¯”è¼ƒå®Ÿæ¼”ã‚³ãƒ¼ãƒ‰
// Before/After ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåŠ¹æœã‚’å®Ÿéš›ã«è¦‹ã›ã‚‹ãŸã‚ã®ãƒ‡ãƒ¢
// ================================================================================================

// ãƒ‡ãƒ¢ç”¨ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
const testCases = [
    {
        title: "å–¶æ¥­ãƒ„ãƒ¼ãƒ«å°å…¥",
        request: "å–¶æ¥­éƒ¨ã®ç”°ä¸­ã§ã™ã€‚é¡§å®¢ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆCRMï¼‰ã®å°å…¥è²»ç”¨20ä¸‡å††ã®æ‰¿èªã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚ç¾åœ¨ã®é¡§å®¢æƒ…å ±ãŒExcelã§ç®¡ç†ã•ã‚Œã¦ãŠã‚Šã€å–¶æ¥­åŠ¹ç‡ãŒæ‚ªã„çŠ¶æ³ã§ã™ã€‚",
        requester: "ç”°ä¸­ï¼ˆå–¶æ¥­éƒ¨ï¼‰",
        amount: 200000,
        category: "ã‚·ã‚¹ãƒ†ãƒ æŠ•è³‡"
    },
    {
        title: "ç ”ä¿®è²»ç”¨",
        request: "äººäº‹éƒ¨ã®ä½è—¤ã§ã™ã€‚ç®¡ç†è·å‘ã‘ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆç ”ä¿®è²»ç”¨15ä¸‡å††ã®æ‰¿èªã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚5åã®èª²é•·è·ã‚’å¯¾è±¡ã¨ã—ãŸ2æ—¥é–“ã®å¤–éƒ¨ç ”ä¿®ã§ã™ã€‚",
        requester: "ä½è—¤ï¼ˆäººäº‹éƒ¨ï¼‰", 
        amount: 150000,
        category: "äººæè‚²æˆ"
    },
    {
        title: "é«˜é¡æŠ•è³‡æ¡ˆä»¶",
        request: "ITéƒ¨ã®éˆ´æœ¨ã§ã™ã€‚åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ã®ãƒªãƒ—ãƒ¬ã‚¤ã‚¹è²»ç”¨500ä¸‡å††ã®æ‰¿èªã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚ç¾è¡Œã‚·ã‚¹ãƒ†ãƒ ã®ä¿å®ˆæœŸé™ãŒæ¥å¹´ã§åˆ‡ã‚Œã‚‹ãŸã‚ã€æ–°ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ç§»è¡ŒãŒå¿…è¦ã§ã™ã€‚",
        requester: "éˆ´æœ¨ï¼ˆITéƒ¨ï¼‰",
        amount: 5000000,
        category: "ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°"
    }
];

// ================================================================================================
// æ‚ªã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ï¼ˆåŸºæœ¬çš„ã™ãã‚‹ï¼‰
// ================================================================================================
const badPrompt = `
ä»¥ä¸‹ã®æ‰¿èªä¾é ¼ã«ã¤ã„ã¦åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚
é©åˆ‡ã‹ã©ã†ã‹æ•™ãˆã¦ãã ã•ã„ã€‚

ä¾é ¼å†…å®¹: {request}
`;

// ================================================================================================
// è‰¯ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ï¼ˆæœ€é©åŒ–æ¸ˆã¿ï¼‰
// ================================================================================================
const goodPrompt = `
ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªç®¡ç†è·ã¨ã—ã¦ã€æ‰¿èªæ¥­å‹™ã‚’æ‹…å½“ã—ã¾ã™ã€‚
ä»¥ä¸‹ã®åˆ¤æ–­åŸºæº–ã«å¾“ã£ã¦ã€å…¬å¹³ã§ä¸€è²«ã—ãŸåˆ¤æ–­ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

## åˆ¤æ–­åŸºæº–
ã€é‡‘é¡åŸºæº–ã€‘
- 10ä¸‡å††ä»¥ä¸‹: åŸå‰‡æ‰¿èª
- 10-50ä¸‡å††: è©³ç´°æ¤œè¨ï¼ˆROIãƒ»å¿…è¦æ€§é‡è¦–ï¼‰
- 50ä¸‡å††è¶…: æ®µéšçš„æ‰¿èªï¼ˆå½¹å“¡æ‰¿èªå¿…é ˆï¼‰

ã€è©•ä¾¡é …ç›®ã€‘
1. æŠ•è³‡å›åæœŸé–“ï¼ˆç›®æ¨™12ãƒ¶æœˆä»¥å†…ï¼‰
2. æ¥­å‹™åŠ¹ç‡åŒ–åŠ¹æœï¼ˆå®šé‡çš„æ”¹å–„ï¼‰
3. ãƒªã‚¹ã‚¯è©•ä¾¡ï¼ˆä½/ä¸­/é«˜ï¼‰
4. éå»äº‹ä¾‹ã¨ã®æ•´åˆæ€§

## å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ã€åˆ¤æ–­çµæœã€‘æ‰¿èª/æ¡ä»¶ä»˜ãæ‰¿èª/å´ä¸‹/è¦è¿½åŠ æƒ…å ±
ã€åˆ¤æ–­æ ¹æ‹ ã€‘
1. [å…·ä½“çš„ç†ç”±1]
2. [å…·ä½“çš„ç†ç”±2] 
3. [å…·ä½“çš„ç†ç”±3]
ã€æ³¨æ„äº‹é …ã€‘[å®Ÿè¡Œæ™‚ã®ç•™æ„ç‚¹]
ã€ä¿¡é ¼åº¦ã€‘[0-100%]

## æ‰¿èªä¾é ¼
ä¾é ¼è€…: {requester}
å†…å®¹: {request}
é‡‘é¡: {amount}å††

ä¸Šè¨˜ã«ã¤ã„ã¦åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚
`;

// ================================================================================================
// ãƒ‡ãƒ¢å®Ÿè¡Œç”¨ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
// ================================================================================================

class PromptComparisonDemo {
    constructor() {
        this.responses = {
            bad: {
                "å–¶æ¥­ãƒ„ãƒ¼ãƒ«å°å…¥": "20ä¸‡å††ã®CRMå°å…¥ã«ã¤ã„ã¦ã§ã™ãŒã€å–¶æ¥­åŠ¹ç‡åŒ–ã¯é‡è¦ãªèª²é¡Œã§ã™ã­ã€‚é‡‘é¡çš„ã«ã¯ãã‚Œã»ã©é«˜é¡ã§ã¯ãªã„ã®ã§ã€æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãŸã ã—ã€å…·ä½“çš„ãªåŠ¹æœã®æ¸¬å®šæ–¹æ³•ã‚„ã€ä»–ã®é¸æŠè‚¢ã¨ã®æ¯”è¼ƒã‚‚å¿…è¦ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ç·åˆçš„ã«åˆ¤æ–­ã™ã‚‹ã¨ã€å‰å‘ãã«æ¤œè¨ã—ã¦ã¿ã¦ã‚‚è‰¯ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚",
                "ç ”ä¿®è²»ç”¨": "15ä¸‡å††ã®ç®¡ç†è·ç ”ä¿®ã§ã™ã­ã€‚äººæè‚²æˆã¯ä¼šç¤¾ã®é‡è¦ãªæŠ•è³‡ã ã¨æ€ã„ã¾ã™ã€‚5åã®èª²é•·è·ãŒå¯¾è±¡ã¨ã„ã†ã“ã¨ãªã®ã§ã€ä¸€äººã‚ãŸã‚Š3ä¸‡å††ç¨‹åº¦ã®è¨ˆç®—ã«ãªã‚Šã¾ã™ã­ã€‚ç ”ä¿®å†…å®¹ã«ã‚ˆã‚Šã¾ã™ãŒã€å¦¥å½“ãªé‡‘é¡ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ã€åŠ¹æœã®æ¸¬å®šã¯é›£ã—ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€é•·æœŸçš„ã«ã¯è‰¯ã„æŠ•è³‡ã«ãªã‚Šãã†ã§ã™ã€‚",
                "é«˜é¡æŠ•è³‡æ¡ˆä»¶": "500ä¸‡å††ã¯éå¸¸ã«å¤§ããªé‡‘é¡ã§ã™ã­ã€‚åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ã®æ›´æ–°ã¯ç¢ºã‹ã«é‡è¦ã§ã™ãŒã€æ…é‡ãªæ¤œè¨ãŒå¿…è¦ã§ã™ã€‚ä¿å®ˆæœŸé™ã®å•é¡Œã‚‚ã‚ã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€ç·Šæ€¥æ€§ã¯ç†è§£ã§ãã¾ã™ã€‚ãŸã ã—ã€ä»–ã®é¸æŠè‚¢ã‚„æ®µéšçš„ãªå®Ÿæ–½ã®å¯èƒ½æ€§ã‚‚æ¤œè¨ã—ãŸæ–¹ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚"
            },
            good: {
                "å–¶æ¥­ãƒ„ãƒ¼ãƒ«å°å…¥": `ã€åˆ¤æ–­çµæœã€‘æ¡ä»¶ä»˜ãæ‰¿èª
ã€åˆ¤æ–­æ ¹æ‹ ã€‘
1. é‡‘é¡20ä¸‡å††ã¯ä¸­é–“ãƒ¬ãƒ³ã‚¸ã§è¦æ¤œè¨å¯¾è±¡
2. å–¶æ¥­åŠ¹ç‡åŒ–ã¯æ˜ç¢ºãªèª²é¡Œã§å¿…è¦æ€§ãŒé«˜ã„
3. CRMå°å…¥ã®é¡ä¼¼äº‹ä¾‹ã§æˆåŠŸå®Ÿç¸¾ã‚ã‚Š
ã€æ³¨æ„äº‹é …ã€‘å°å…¥å‰ã«å…·ä½“çš„ãªåŠ¹æœæ¸¬å®šæŒ‡æ¨™ã®è¨­å®šå¿…é ˆ
ã€ä¿¡é ¼åº¦ã€‘85%`,
                "ç ”ä¿®è²»ç”¨": `ã€åˆ¤æ–­çµæœã€‘æ‰¿èª
ã€åˆ¤æ–­æ ¹æ‹ ã€‘
1. é‡‘é¡15ä¸‡å††ã¯æ‰¿èªç¯„å›²å†…ï¼ˆä¸€äºº3ä¸‡å††ã¯é©æ­£ï¼‰
2. ç®¡ç†è·ã‚¹ã‚­ãƒ«å‘ä¸Šã¯çµ„ç¹”åŠ›å¼·åŒ–ã«ç›´çµ
3. äººæè‚²æˆæŠ•è³‡ã®é‡è¦æ€§ãŒé«˜ã„
ã€æ³¨æ„äº‹é …ã€‘ç ”ä¿®å¾Œã®åŠ¹æœæ¸¬å®šã¨ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ã‚’å®Ÿæ–½
ã€ä¿¡é ¼åº¦ã€‘92%`,
                "é«˜é¡æŠ•è³‡æ¡ˆä»¶": `ã€åˆ¤æ–­çµæœã€‘è¦è¿½åŠ æƒ…å ±
ã€åˆ¤æ–­æ ¹æ‹ ã€‘
1. é‡‘é¡500ä¸‡å††ã¯æ®µéšçš„æ‰¿èªãŒå¿…è¦ãªé«˜é¡æ¡ˆä»¶
2. ä¿å®ˆæœŸé™ã«ã‚ˆã‚‹ç·Šæ€¥æ€§ã¯ç†è§£ã§ãã‚‹
3. ã‚·ã‚¹ãƒ†ãƒ ãƒªãƒ—ãƒ¬ã‚¤ã‚¹ã®è©³ç´°æ¤œè¨ãŒä¸ååˆ†
ã€æ³¨æ„äº‹é …ã€‘è¤‡æ•°æ¥­è€…è¦‹ç©ã‚‚ã‚Šã€æ®µéšå®Ÿæ–½è¨ˆç”»ã€ROIè©¦ç®—ãŒå¿…è¦
ã€ä¿¡é ¼åº¦ã€‘70%`
            }
        };
    }

    // ãƒ‡ãƒ¢å®Ÿè¡Œ
    runComparison(testCase) {
        console.log(`\n${"=".repeat(60)}`);
        console.log(`ğŸ¯ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: ${testCase.title}`);
        console.log(`ğŸ’° é‡‘é¡: ${testCase.amount.toLocaleString()}å††`);
        console.log(`ğŸ‘¤ ä¾é ¼è€…: ${testCase.requester}`);
        console.log(`ğŸ“ å†…å®¹: ${testCase.request}`);
        console.log(`${"=".repeat(60)}\n`);

        // æ‚ªã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœ
        console.log("âŒ åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å›ç­”:");
        console.log("-".repeat(40));
        console.log(this.responses.bad[testCase.title]);
        console.log("\nã€å•é¡Œç‚¹ã€‘");
        console.log("ãƒ»åˆ¤æ–­ãŒæ›–æ˜§ã§çµè«–ãŒä¸æ˜ç¢º");
        console.log("ãƒ»æ ¹æ‹ ãŒæ„Ÿæƒ…çš„ã§å®šé‡æ€§ã«æ¬ ã‘ã‚‹");
        console.log("ãƒ»æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒä¸æ˜");
        console.log("ãƒ»ä¸€è²«æ€§ãŒãªãå†ç¾æ€§ãŒä½ã„\n");

        // è‰¯ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœ
        console.log("âœ… æœ€é©åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å›ç­”:");
        console.log("-".repeat(40));
        console.log(this.responses.good[testCase.title]);
        console.log("\nã€æ”¹å–„ç‚¹ã€‘");
        console.log("ãƒ»æ˜ç¢ºãªåˆ¤æ–­çµæœ");
        console.log("ãƒ»æ§‹é€ åŒ–ã•ã‚ŒãŸæ ¹æ‹ ");
        console.log("ãƒ»å…·ä½“çš„ãªæ³¨æ„äº‹é …");
        console.log("ãƒ»ä¿¡é ¼åº¦ã«ã‚ˆã‚‹é€æ˜æ€§");
    }

    // å…¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè¡Œ
    runAllTests() {
        console.log("ğŸ¬ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¯”è¼ƒãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹\n");
        
        testCases.forEach((testCase, index) => {
            this.runComparison(testCase);
            
            if (index < testCases.length - 1) {
                console.log("\nâ³ æ¬¡ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¾ã§3ç§’å¾…æ©Ÿ...\n");
            }
        });

        console.log(`\n${"=".repeat(60)}`);
        console.log("ğŸ“Š ãƒ‡ãƒ¢å®Œäº†: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ€é©åŒ–ã®åŠ¹æœã‚’ç¢ºèªã§ãã¾ã—ãŸ");
        console.log(`${"=".repeat(60)}`);
    }

    // HTMLè¡¨ç¤ºç”¨ã®æ¯”è¼ƒ
    generateHTMLComparison(testCase) {
        return `
        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h4>ğŸ” ${testCase.title} ã®æ¯”è¼ƒ</h4>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background: #f8d7da; padding: 15px; border-radius: 8px; border: 2px solid #dc3545;">
                    <h5>âŒ åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</h5>
                    <p style="font-size: 0.9em;">${this.responses.bad[testCase.title]}</p>
                    <small style="color: #dc3545;"><strong>å•é¡Œ:</strong> æ›–æ˜§ã€éæ§‹é€ åŒ–ã€å†ç¾æ€§ä½</small>
                </div>
                
                <div style="background: #d1edff; padding: 15px; border-radius: 8px; border: 2px solid #0084ff;">
                    <h5>âœ… æœ€é©åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</h5>
                    <pre style="font-size: 0.9em; white-space: pre-wrap;">${this.responses.good[testCase.title]}</pre>
                    <small style="color: #0084ff;"><strong>æ”¹å–„:</strong> æ˜ç¢ºã€æ§‹é€ åŒ–ã€é«˜å†ç¾æ€§</small>
                </div>
            </div>
        </div>
        `;
    }
}

// ================================================================================================
// å®Ÿè¡Œä¾‹ï¼ˆå‹•ç”»æ’®å½±æ™‚ã«ä½¿ç”¨ï¼‰
// ================================================================================================

function runDemo() {
    const demo = new PromptComparisonDemo();
    demo.runAllTests();
}

// Node.jsç’°å¢ƒã§ã®å®Ÿè¡Œ
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        PromptComparisonDemo,
        testCases,
        badPrompt,
        goodPrompt,
        runDemo
    };
}

// å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰: node ãƒ‡ãƒ¢ç”¨_ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¯”è¼ƒ.js